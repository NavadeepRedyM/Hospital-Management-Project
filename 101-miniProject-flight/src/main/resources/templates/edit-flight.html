<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit Flight - 2026</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container py-5">
    <div class="card shadow col-md-8 mx-auto border-0">
        <!-- PINK HEADER -->
        <div class="card-header text-white" style="background-color: #FF69B4 !important;">
            <h3 class="mb-0">Edit Flight - ID: <span th:text="${flight.fId}"></span></h3>
        </div>
        <div class="card-body p-4">
            <!-- Binding to the 'flight' Entity for processing the update -->
            <form th:action="@{/home/update}" th:object="${flight}" method="post">
                
                <!-- Hidden ID field is mandatory for Update -->
                <input type="hidden" th:field="*{fId}" />

                <div class="row g-3">
                    <!-- Airline Selection -->
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Select Airline</label>
                        <select th:field="*{airlines}" class="form-select" required>
                            <option th:each="airline : ${airlinesList}" 
                                    th:value="${airline.id}" 
                                    th:text="${airline.name}"></option>
                        </select>
                    </div>

                    <!-- Entreprise Name -->
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Enterprise/Operator</label>
                        <input type="text" th:field="*{entreprise}" class="form-control" required>
                    </div>

                    <!-- Route Info -->
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Departure (Pick Up)</label>
                        <input type="text" th:field="*{pickUp}" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Destination</label>
                        <input type="text" th:field="*{destination}" class="form-control" required>
                    </div>

                    <!-- Date and Duration -->
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Departure Date & Time</label>
                        <!-- Ensure your Controller/Service handles the LocalDateTime conversion -->
                        <input type="datetime-local" th:field="*{departureDate}" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Duration (Hours)</label>
                        <input type="number" step="0.1" th:field="*{duration}" class="form-control" required>
                    </div>

                    <!-- Class and Pricing -->
                    <div class="col-md-4">
                        <label class="form-label fw-bold">Flight Class</label>
                        <select th:field="*{fclass}" class="form-select">
                            <option value="Economy">Economy</option>
                            <option value="Business">Business</option>
                            <option value="First">First Class</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label fw-bold">Seats Available</label>
                        <input type="number" th:field="*{availableSeats}" class="form-control" required>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label fw-bold">Price ($)</label>
                        <input type="number" step="0.01" th:field="*{price}" class="form-control" required>
                    </div>

                    <!-- PINK ACTION BUTTONS -->
                    <div class="col-12 mt-4">
                        <button type="submit" class="btn text-white w-100 fw-bold shadow-sm" 
                                style="background-color: #FF69B4 !important; border: none;">
                            Update Flight Information
                        </button>
                        <a th:href="@{/home/admin-index}" class="btn btn-link w-100 mt-2 text-decoration-none" style="color: #FF69B4;">
                            Cancel and Go Back
                        </a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net"></script>
</body>
</html>
