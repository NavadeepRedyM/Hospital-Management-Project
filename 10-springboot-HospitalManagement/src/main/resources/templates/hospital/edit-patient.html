<form th:action="@{/admin/patients/save}" th:object="${patient}" method="post">
    <!-- 1. Hidden fields (Required for logic and validation) -->
    <input type="hidden" th:field="*{id}" />
    <input type="hidden" th:field="*{username}" />

    <div class="field">
      <label>Full Name</label>
      <input type="text" th:field="*{name}" />
      <div class="error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
    </div>

    <div class="field">
      <label>Age</label>
      <input type="number" th:field="*{age}" />
      <div class="error" th:if="${#fields.hasErrors('age')}" th:errors="*{age}"></div>
    </div>

    <!-- 2. Email (CRITICAL: Required by your DTO) -->
    <div class="field">
      <label>Email (must be @gmail.com)</label>
      <input type="email" th:field="*{email}" />
      <div class="error" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
    </div>

    <div class="field">
      <label>Contact Number (10 digits)</label>
      <input type="text" th:field="*{contactNumber}" maxlength="10" />
      <div class="error" th:if="${#fields.hasErrors('contactNumber')}" th:errors="*{contactNumber}"></div>
    </div>

    <div class="field">
      <label>Address</label>
      <input type="text" th:field="*{address}" />
    </div>
    <div class="field">
  <label>Gender</label>
  <!-- Ensure th:field matches the 'gender' field in your DTO -->
  <input type="text" th:field="*{gender}" placeholder="Male/Female/Other" />
  <div class="error" th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}"></div>
</div>
    

    <div class="field">
      <label>Blood Group</label>
      <input type="text" th:field="*{bloodGroup}" />
    </div>

    <button class="btn" type="submit">Update</button>
    <a th:href="@{/admin/patients}" class="btn">Cancel</a>
</form>
